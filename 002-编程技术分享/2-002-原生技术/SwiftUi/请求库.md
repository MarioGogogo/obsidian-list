# Alamofire

```swift
import Alamofire // éœ€è¦å…ˆå¼•å…¥ Alamofire åº“

// å‡è®¾å·²ç»å®šä¹‰äº† Post ç»“æ„ä½“ï¼Œ Alamofire å¯ä»¥ç›´æ¥è§£æ
// @State private var posts: [Post] = [] // åœ¨ SwiftUI è§†å›¾é‡Œ

// åœ¨æŸä¸ªå‡½æ•°é‡Œ
func fetchPostsWithAlamofire() {
    AF.request("https://jsonplaceholder.typicode.com/posts").responseDecodable(of: [Post].self) { response in
        switch response.result {
            case .success(let posts):
                // æˆåŠŸäº†ï¼posts å°±æ˜¯å·²ç»å¸®ä½ è§£æå¥½çš„ [Post] æ•°ç»„
                // åœ¨ SwiftUI é‡Œï¼Œä½ éœ€è¦æ›´æ–° @State å˜é‡ï¼š
                // self.posts = posts
                print("Success: \(posts.count) posts")
            case .failure(let error):
                print("Error: \(error)")
        }
    }
}

```


âœ… ç°åœ¨ä»£ç å·²ç»æ›´æ–°ä¸ºä½¿ç”¨æ¨èçš„ `responseDecodable` æ–¹æ³•äº†ã€‚

## ğŸ“‹ æ€»ç»“

### è­¦å‘Šå«ä¹‰ï¼š

- **å·²å¼ƒç”¨**ï¼š`responseJSON`Â æ˜¯æ—§æ–¹æ³•ï¼Œæœªæ¥ä¼šè¢«ç§»é™¤
- **æ¨èæ–¹æ³•**ï¼š`responseDecodable`Â æ˜¯ç°ä»£ã€ç±»å‹å®‰å…¨çš„æ–¹å¼

### ä¿®æ”¹å†…å®¹ï¼š

1. **[Article.swift](vscode-webview://08b2ih81ummc43o6nrjvgfsp6faopuefuesul3t6b90q34u1cu59/Models/Article.swift)**ï¼š
    
    - ç›´æ¥åœ¨ç»“æ„ä½“å£°æ˜ä¸­æ·»åŠ Â `Sendable`Â åè®®
    - ç§»é™¤äº†Â `@unchecked`ï¼Œå› ä¸ºå€¼ç±»å‹å¤©ç„¶çº¿ç¨‹å®‰å…¨
2. **[ArticlesListDemo.swift](vscode-webview://08b2ih81ummc43o6nrjvgfsp6faopuefuesul3t6b90q34u1cu59/Demos/ArticlesListDemo.swift)**ï¼š
    
    - ä½¿ç”¨Â `responseDecodable(of: [Article].self)`Â æ›¿ä»£Â `responseJSON`
    - ä»£ç æ›´ç®€æ´ã€æ›´å®‰å…¨ã€æ›´ç¬¦åˆ Swift æœ€ä½³å®è·µ
    - è‡ªåŠ¨å°† JSON è§£æä¸ºÂ `[Article]`Â æ•°ç»„

### å¯¹æ¯”ï¼š

```swift
// âŒ æ—§æ–¹æ³•ï¼ˆä¼šäº§ç”Ÿè­¦å‘Šï¼‰
.responseJSON { response in
    if let jsonArray = value as? [[String: Any]] {
        // æ‰‹åŠ¨è§£æï¼Œå®¹æ˜“å‡ºé”™
    }
}

// âœ… æ–°æ–¹æ³•ï¼ˆæ¨èï¼‰
.responseDecodable(of: [Article].self) { response in
    // è‡ªåŠ¨è§£æï¼Œç±»å‹å®‰å…¨
    articles = articlesList
}
```